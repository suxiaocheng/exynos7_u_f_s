/*
 * Copyright@ Samsung Electronics Co. LTD
 *
 * This software is proprietary of Samsung Electronics.
 * No part of this software, either material or conceptual may be copied or distributed, transmitted,
 * transcribed, stored in a retrieval system or translated into any human or computer language in any form by any means,
 * electronic, mechanical, manual or otherwise, or disclosed
 * to third parties without the express written permission of Samsung Electronics.


 * Alternatively, this program is free software in case of open source projec;
 * you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.

 */

#include <common.h>

#define Inp32(addr) (*(volatile u32 *)(addr))
#define Outp32(addr, data) (*(volatile u32 *)(addr) = (data))
#define GetBits(uAddr, uBaseBit, uMaskValue) \
    ((Inp32(uAddr)>>(uBaseBit))&(uMaskValue))

#define BANK_OFFSET 0x400

#define SYSC_DVFS_END_LVL_EGL		SYSC_DVFS_L23
#define SYSC_DVFS_END_LVL_KFC		SYSC_DVFS_L18
#define SYSC_DVFS_END_LVL_G3D		SYSC_DVFS_L9
#define SYSC_DVFS_END_LVL_MIF		SYSC_DVFS_L9
#define SYSC_DVFS_END_LVL_INT		SYSC_DVFS_L6
#define SYSC_DVFS_END_LVL_DISP		SYSC_DVFS_L3
#define SYSC_DVFS_END_LVL_CAM		SYSC_DVFS_L5
#define MAX_ASV_GROUP			16

#define CHIPID_BASE			0x10000000
#define CHIPID_ASV_TBL_BASE	0x10004000
#define CHIPID_ABB_TBL_BASE	0x105D0000
#define SYSREG_EGL_BASE		0x11810000
#define CHIPID_ABBG_BASE	0x105C0000

#define FBB_EGL_BASE 0x105C0780
#define FBB_KFC_BASE 0x105C0784
#define FBB_MIF_BASE 0x105C078C
#define FBB_INT_BASE 0x105C0788
#define FBB_G3D_BASE 0x105C0790

enum SYSC_DVFS_SEL
{
	SYSC_DVFS_EGL,
	SYSC_DVFS_KFC,
	SYSC_DVFS_INT,
	SYSC_DVFS_MIF,
	SYSC_DVFS_G3D,
	SYSC_DVFS_CAM,
	SYSC_DVFS_DISP,
	SYSC_DVFS_NUM
};

enum SYSC_DVFS_LVL
{
	SYSC_DVFS_L0_A=-1, //L0_A deleted not using
	SYSC_DVFS_L0 = 0,
	SYSC_DVFS_L1,
	SYSC_DVFS_L2,
	SYSC_DVFS_L3,
	SYSC_DVFS_L4,
	SYSC_DVFS_L5,
	SYSC_DVFS_L6,
	SYSC_DVFS_L7,
	SYSC_DVFS_L8,
	SYSC_DVFS_L9,
	SYSC_DVFS_L10,
	SYSC_DVFS_L11,
	SYSC_DVFS_L12,
	SYSC_DVFS_L13,
	SYSC_DVFS_L14,
	SYSC_DVFS_L15,
	SYSC_DVFS_L16,
	SYSC_DVFS_L17,
	SYSC_DVFS_L18,
	SYSC_DVFS_L19,
	SYSC_DVFS_L20,
	SYSC_DVFS_L21,
	SYSC_DVFS_L22,
	SYSC_DVFS_L23,
	SYSC_DVFS_FIN=0x100,
};

const u32 ids_table_v0[MAX_ASV_GROUP] = {
	/*        0   1   2   3   4   5   6   7   8   9  10   11   12   13   14   15	*/
		1, 24, 30, 36, 43, 51, 61, 72, 84, 97, 111, 127, 144, 162, 168, 999	/* ATLAS */
};

int otp_read(u32 ulAddress, u8 *pucData, u32 ulSize, u32 *pulError);

u32 uEglAsvGrpVolt;
u32 uKfcAsvGrpVolt;
u32 uG3dAsvGrpVolt;
u32 uMifAsvGrpVolt;
u32 uIntAsvGrpVolt;
u32 uCamAsvGrpVolt;

static const u32 base_add_arr[SYSC_DVFS_NUM][5]= {
	[SYSC_DVFS_EGL] = { (const u32) CHIPID_ASV_TBL_BASE + 0x0000, 0, 4, 8, 12},
	[SYSC_DVFS_KFC] = { (const u32) CHIPID_ASV_TBL_BASE + 0x0000, 16, 20, 24, 28},
	[SYSC_DVFS_G3D] = { (const u32) CHIPID_ASV_TBL_BASE + 0x0004, 0, 4, 8, 12},
	[SYSC_DVFS_MIF] = { (const u32) CHIPID_ASV_TBL_BASE + 0x0004, 16, 20, 24, 28},
	[SYSC_DVFS_INT] = { (const u32) CHIPID_ASV_TBL_BASE + 0x0008, 0, 4, 8, 12},
	[SYSC_DVFS_CAM] = { (const u32) CHIPID_ASV_TBL_BASE + 0x0008, 16, 20, 24, 28},
};

static volatile u32 egl_ids;
static volatile u32 group_fused;

const u32 volt_table_egl_v0[SYSC_DVFS_END_LVL_EGL+1][MAX_ASV_GROUP+1] = {
	/*	 ASV0	  ASV1	   ASV2	    ASV3     ASV4     ASV5     ASV6     ASV7     ASV8     ASV9    ASV10    ASV11    ASV12    ASV13    ASV14    ASV15 */
	[0]  = {2500, 1350000, 1350000,	1350000, 1350000, 1350000, 1350000,	1350000, 1350000, 1350000, 1350000,	1350000, 1350000, 1350000, 1350000,	1350000, 1350000,	},
	[1]  = {2400, 1350000, 1350000,	1350000, 1350000, 1350000, 1350000,	1350000, 1350000, 1350000, 1350000,	1350000, 1350000, 1350000, 1350000,	1350000, 1337500,	},
	[2]  = {2300, 1350000, 1350000,	1350000, 1350000, 1350000, 1350000,	1350000, 1350000, 1350000, 1350000,	1350000, 1337500, 1325000, 1312500,	1300000, 1287500,	},
	[3]  = {2200, 1350000, 1350000,	1350000, 1350000, 1350000, 1350000,	1350000, 1337500, 1325000, 1312500,	1300000, 1287500, 1275000, 1262500,	1250000, 1237500,	},
	[4]  = {2100, 1350000, 1350000,	1350000, 1337500, 1325000, 1312500,	1300000, 1287500, 1275000, 1262500,	1250000, 1237500, 1225000, 1212500,	1200000, 1187500,	},
	[5]  = {2000, 1325000, 1312500,	1300000, 1287500, 1275000, 1262500,	1250000, 1237500, 1225000, 1212500,	1200000, 1187500, 1175000, 1162500,	1150000, 1137500,	},
	[6]  = {1900, 1275000, 1262500,	1250000, 1237500, 1225000, 1212500,	1200000, 1187500, 1175000, 1162500,	1150000, 1137500, 1125000, 1112500,	1100000, 1087500,	},
	[7]  = {1800, 1225000, 1212500,	1200000, 1187500, 1175000, 1162500,	1150000, 1137500, 1125000, 1112500,	1100000, 1087500, 1075000, 1062500,	1050000, 1037500,	},
	[8]  = {1700, 1187500, 1175000,	1162500, 1150000, 1137500, 1125000,	1112500, 1100000, 1087500, 1075000,	1062500, 1050000, 1037500, 1025000,	1012500, 1000000,	},
	[9]  = {1600, 1150000, 1137500,	1125000, 1112500, 1100000, 1087500,	1075000, 1062500, 1050000, 1037500,	1025000, 1012500, 1000000,  987500,  975000,  962500,	},
	[10] = {1500, 1125000, 1112500,	1100000, 1087500, 1075000, 1062500,	1050000, 1037500, 1025000, 1012500,	1000000,  987500,  975000,  962500,  950000,  937500,	},
	[11] = {1400, 1100000, 1087500,	1075000, 1062500, 1050000, 1037500,	1025000, 1012500, 1000000,  987500,  975000,  962500,  950000,  937500,  925000,  912500,	},
	[12] = {1300, 1075000, 1062500,	1050000, 1037500, 1025000, 1012500,	1000000,  987500,  975000,  962500,  950000,  937500,  925000,  925000,  912500,  912500,	},
	[13] = {1200, 1050000, 1037500,	1025000, 1012500, 1000000,  987500,  975000,  962500,  950000,  937500,  937500,  925000,  925000,  925000,	 912500,  912500,	},
	[14] = {1100, 1025000, 1012500,	1000000,  987500,  975000,  962500,	 950000,  950000,  937500,  925000,	 925000,  925000,  925000,  925000,	 912500,  912500,	},
	[15] = {1000,  987500,  975000,  962500,  950000,  937500,  937500,	 925000,  925000,  912500,  912500,	 912500,  912500,  912500,  912500,	 900000,  900000,	},
	[16] = { 900,  950000,  937500,	 925000,  925000,  925000,  925000,	 912500,  912500,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,	},
	[17] = { 800,  925000,  912500,	 912500,  912500,  912500,  912500,	 900000,  900000,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,	},
	[18] = { 700,  925000,  912500,	 912500,  912500,  912500,  912500,	 900000,  900000,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,	},
	[19] = { 600,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,	},
	[20] = { 500,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,	},
	[21] = { 400,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,	},
	[22] = { 300,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,	},
	[23] = { 200,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,  900000,  900000,	 900000,  900000,	},
};																			
const u32 volt_table_kfc_v0[SYSC_DVFS_END_LVL_KFC+1][MAX_ASV_GROUP+1]  = {
	[0]  = {2000, 1350000, 1350000,	1350000, 1350000, 1350000, 1350000,	1350000, 1350000, 1350000, 1350000,	1350000, 1350000, 1337500, 1325000,	1312500, 1300000,	},
	[1]  = {1900, 1350000, 1350000,	1350000, 1350000, 1350000, 1350000,	1350000, 1350000, 1337500, 1325000,	1312500, 1300000, 1287500, 1275000,	1262500, 1250000,	},
	[2]  = {1800, 1350000, 1350000,	1350000, 1350000, 1337500, 1325000,	1312500, 1300000, 1287500, 1275000,	1262500, 1250000, 1237500, 1225000,	1212500, 1200000,	},
	[3]  = {1700, 1350000, 1350000,	1325000, 1300000, 1287500, 1275000,	1262500, 1250000, 1237500, 1225000,	1212500, 1200000, 1187500, 1175000,	1162500, 1150000,	},
	[4]  = {1600, 1312500, 1300000,	1275000, 1250000, 1237500, 1225000,	1212500, 1200000, 1187500, 1175000,	1162500, 1150000, 1137500, 1125000,	1112500, 1100000,	},
	[5]  = {1500, 1262500, 1250000,	1225000, 1200000, 1187500, 1175000,	1162500, 1150000, 1137500, 1125000,	1112500, 1100000, 1087500, 1075000,	1062500, 1050000,	},
	[6]  = {1400, 1212500, 1200000,	1175000, 1150000, 1137500, 1125000,	1112500, 1100000, 1087500, 1075000,	1062500, 1050000, 1037500, 1025000,	1012500, 1000000,	},
	[7]  = {1300, 1162500, 1150000,	1125000, 1100000, 1087500, 1075000,	1062500, 1050000, 1037500, 1025000,	1012500, 1000000,  987500,	975000,	 962500,  950000,	},
	[8]  = {1200, 1125000, 1112500,	1087500, 1062500, 1050000, 1037500,	1025000, 1012500, 1000000,  987500,	 975000,  962500,  950000,	937500,	 925000,  912500,	},
	[9]  = {1100, 1087500, 1075000,	1050000, 1025000, 1012500, 1000000,	 987500,  975000,  962500,  950000,	 937500,  925000,  912500,	900000,	 887500,  875000,	},
	[10] = {1000, 1062500, 1050000,	1025000, 1000000,  987500,  975000,	 962500,  950000,  937500,  925000,	 912500,  900000,  887500,	875000,	 862500,  850000,	},
	[11] = { 900, 1037500, 1025000,	1000000,  975000,  962500,  950000,	 937500,  925000,  912500,  900000,	 887500,  875000,  862500,	850000,	 837500,  825000,	},
	[12] = { 800, 1012500, 1000000,	 975000,  950000,  937500,  925000,	 912500,  900000,  887500,  875000,	 862500,  850000,  837500,	825000,	 812500,  800000,	},
	[13] = { 700,  987500,  975000,	 950000,  925000,  912500,  900000,	 887500,  875000,  862500,  850000,	 837500,  825000,  812500,	800000,	 800000,  800000,	},
	[14] = { 600,  962500,  950000,	 925000,  900000,  887500,  875000,	 862500,  850000,  837500,  825000,	 812500,  800000,  800000,	800000,	 800000,  800000,	},
	[15] = { 500,  937500,  925000,	 900000,  875000,  862500,  850000,	 837500,  825000,  812500,  800000,	 800000,  800000,  800000,	800000,	 800000,  800000,	},
	[16] = { 400,  912500,  900000,	 875000,  850000,  837500,  825000,	 812500,  800000,  800000,  800000,	 800000,  800000,  800000,	800000,	 800000,  800000,	},
	[17] = { 300,  887500,  875000,	 850000,  825000,  812500,  800000,	 800000,  800000,  800000,  800000,	 800000,  800000,  800000,	800000,	 800000,  800000,	},
	[18] = { 200,  862500,  850000,	 825000,  800000,  800000,  800000,	 800000,  800000,  800000,  800000,	 800000,  800000,  800000,	800000,	 800000,  800000,	},
};																			
const u32 volt_table_g3d_v0[SYSC_DVFS_END_LVL_G3D+1][MAX_ASV_GROUP+1]  = {
	/*	 ASV0	  ASV1	   ASV2	    ASV3     ASV4     ASV5     ASV6     ASV7     ASV8     ASV9    ASV10    ASV11    ASV12    ASV13    ASV14    ASV15 */
	[0] = { 730, 1187500, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1100000, 1100000, 1087500, 1087500, 1087500, 1075000, 1062500, 1062500, 1050000},
	[1] = {	700, 1125000, 1112500, 1100000,	1087500, 1075000, 1062500, 1050000,	1037500, 1037500, 1025000, 1025000,	1012500, 1012500, 1000000, 1000000,  987500,	},
	[2] = { 650, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1037500, 1025000, 1025000, 1012500, 1012500, 1000000, 1000000,  987500,	},
	[3] = {	600, 1100000, 1087500, 1075000,	1062500, 1050000, 1037500, 1025000,	1012500, 1012500, 1000000, 1000000,	 987500,  987500,  975000,  975000,  962500,	},
	[4] = {	550, 1075000, 1062500, 1050000,	1037500, 1025000, 1012500, 1000000,	 987500,  987500,  975000,	975000,	 962500,  962500,  950000,	950000,  937500,	},
	[5] = {	500, 1050000, 1037500, 1025000,	1012500, 1000000,  987500,	975000,	 962500,  962500,  950000,	950000,	 937500,  937500,  925000,	925000,  912500,	},
	[6] = {	420, 1025000, 1012500, 1000000,	 987500,  975000,  962500,	950000,	 937500,  937500,  925000,	925000,	 912500,  912500,  900000,	900000,  887500,	},
	[7] = {	350, 1000000,  987500,  975000,	 962500,  950000,  937500,	925000,	 912500,  912500,  900000,	900000,	 887500,  887500,  875000,	875000,  862500,	},
	[8] = {	266, 1000000,  987500,  975000,	 962500,  950000,  937500,	925000,	 912500,  912500,  900000,	900000,	 887500,  887500,  875000,	875000,  862500,	},
	[9] = {	160, 1000000,  987500,  975000,	 962500,  950000,  937500,	925000,	 912500,  912500,  900000,	900000,	 887500,  887500,  875000,	875000,  862500,	},
};																			
const u32 volt_table_mif_v0[SYSC_DVFS_END_LVL_MIF+1][MAX_ASV_GROUP+1]  = {
	[0] = {	825,   1062500,	1050000, 1037500,	1025000,	1012500,	1000000,	987500,	975000,	962500,	950000,	950000,	937500,	937500,	925000,	925000,	925000,	},
	[1] = {	667,	987500,	975000,	962500,	950000,	937500,	925000,	912500,	900000,	887500,	875000,	875000,	862500,	862500,	850000,	850000,	850000,	},
	[2] = {	543,	962500,	950000,	937500,	925000,	912500,	900000,	887500,	875000,	862500,	850000,	850000,	837500,	837500,	825000,	825000,	825000,	},
	[3] = {	413,	912500,	900000,	887500,	875000,	862500,	850000,	837500,	825000,	812500,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	},
	[4] = {	272,	887500,	875000,	862500,	850000,	837500,	825000,	812500,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	},
	[5] = {	222,	887500,	875000,	862500,	850000,	837500,	825000,	812500,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	},
	[6] = {	167,	887500,	875000,	862500,	850000,	837500,	825000,	812500,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	},
	[7] = {	136,	887500,	875000,	862500,	850000,	837500,	825000,	812500,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	},
	[8] = {	109,	887500,	875000,	862500,	850000,	837500,	825000,	812500,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	},
	[9] = {  78,	887500, 875000, 862500, 850000, 837500, 825000, 812500, 800000, 800000, 800000, 800000, 800000, 800000, 800000, 800000, 800000, },
};

const u32 volt_table_int_v0[SYSC_DVFS_END_LVL_INT+1][MAX_ASV_GROUP+1]  = {
	[0] = {	400,	987500,	975000,	962500,	950000,	937500,	925000,	912500,	900000,	887500,	875000,	862500,	850000,	837500,	825000,	812500,	800000,	},
	[1] = {	267,	950000,	937500,	925000,	912500,	900000,	887500,	875000,	862500,	850000,	837500,	825000,	812500,	800000,	800000,	800000,	800000,	},
	[2] = {	267, 	912500,	900000,	887500,	875000,	862500,	850000,	837500,	825000,	812500,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	},
	[3] = {	200,	900000,	887500,	875000,	862500,	850000,	837500,	825000,	812500,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	},
	[4] = {	160,	887500,	875000,	862500,	850000,	837500,	825000,	812500,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	},
	[5] = {	133,	887500,	875000,	862500,	850000,	837500,	825000,	812500,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	},
	[6] = {	100,	887500,	875000,	862500,	850000,	837500,	825000,	812500,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	800000,	},
};																			
const u32 volt_table_cam_v0[SYSC_DVFS_END_LVL_CAM+1][MAX_ASV_GROUP+1]  = {
	[0] = {	552,	1012500,	1000000,	987500,	975000,	962500,	950000,	937500,	925000,	925000,	912500,	912500,	900000,	900000,	887500,	887500,	875000,	},	
	[1] = {	552,	987500,	975000,	962500,	950000,	937500,	925000,	912500,	900000,	900000,	887500,	887500,	875000,	875000,	862500,	862500,	850000,	},	
	[2] = {	552,	912500,	900000,	887500,	875000,	862500,	850000,	837500,	825000,	825000,	812500,	812500,	800000,	800000,	800000,	800000,	800000,	},	
	[3] = {	552,	912500,	900000,	887500,	875000,	862500,	850000,	837500,	825000,	825000,	812500,	812500,	800000,	800000,	800000,	800000,	800000,	},	
	[4] = {	138,	912500,	900000,	887500,	875000,	862500,	850000,	837500,	825000,	825000,	812500,	812500,	800000,	800000,	800000,	800000,	800000,	},	
	[5] = {  69,	912500, 900000, 887500, 875000, 862500, 850000, 837500, 825000, 825000, 812500, 812500, 800000, 800000, 800000, 800000, 800000, },
};																		
//V001 table : all ASV group using
const u32 volt_table_egl_v1[SYSC_DVFS_END_LVL_EGL+1][MAX_ASV_GROUP+1] = {
	[0]  = { 2500, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, },
	[1]  = { 2400, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, },
	[2]  = { 2300, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1337500, },
	[3]  = { 2200, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1337500, 1337500, 1337500, 1325000, 1312500, 1300000, 1287500, },
	[4]  = { 2100, 1350000, 1350000, 1350000, 1350000, 1350000, 1337500, 1325000, 1312500, 1300000, 1287500, 1287500, 1287500, 1275000, 1262500, 1250000, 1237500, },
	[5]  = { 2000, 1350000, 1337500, 1325000, 1312500, 1300000, 1287500, 1275000, 1262500, 1250000, 1237500, 1237500, 1237500, 1225000, 1212500, 1200000, 1187500, },
	[6]  = { 1900, 1300000, 1287500, 1275000, 1262500, 1250000, 1237500, 1225000, 1212500, 1200000, 1187500, 1187500, 1187500, 1175000, 1162500, 1150000, 1137500, },
	[7]  = { 1800, 1262500, 1250000, 1237500, 1225000, 1212500, 1200000, 1187500, 1175000, 1162500, 1150000, 1150000, 1150000, 1137500, 1125000, 1112500, 1100000, },
	[8]  = { 1700, 1225000, 1212500, 1200000, 1187500, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1112500, 1112500, 1100000, 1087500, 1075000, 1062500, },
	[9]  = { 1600, 1187500, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, 1075000, 1075000, 1062500, 1050000, 1037500, 1025000, },
	[10] = { 1500, 1150000, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1037500, 1037500, 1025000, 1012500, 1000000,  987500, },
	[11] = { 1400, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1012500, 1012500, 1000000,  987500,  975000,  962500, },
	[12] = { 1300, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  987500,  987500,  975000,  962500,  950000,  937500, },
	[13] = { 1200, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  962500,  962500,  962500,  950000,  937500,  925000,  912500, },
	[14] = { 1100, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  962500,  950000,  937500,  937500,  937500,  925000,  912500,  900000,  900000, },
	[15] = { 1000, 1025000, 1012500, 1000000,  987500,  975000,  962500,  950000,  937500,  925000,  912500,  912500,  912500,  900000,  900000,  900000,  900000, },
	[16] = {  900, 1000000,  987500,  975000,  962500,  950000,  937500,  925000,  912500,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000, },
	[17] = {  800,  975000,  962500,  950000,  937500,  925000,  912500,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000, },
	[18] = {  700,  950000,  937500,  925000,  912500,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000, },
	[19] = {  600,  925000,  912500,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000, },
	[20] = {  500,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000, },
	[21] = {  400,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000, },
	[22] = {  300,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000, },
	[23] = {  200,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000, },
};																			
const u32 volt_table_kfc_v1[SYSC_DVFS_END_LVL_KFC+1][MAX_ASV_GROUP+1]  = {
	[0]  = { 2000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, },
	[1]  = { 1900, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, },
	[2]  = { 1800, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, },
	[3]  = { 1700, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1337500, 1325000, 1312500, 1300000, },
	[4]  = { 1600, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1337500, 1325000, 1312500, 1300000, 1300000, 1300000, 1287500, 1275000, 1262500, 1250000, },
	[5]  = { 1500, 1362500, 1350000, 1337500, 1325000, 1312500, 1300000, 1287500, 1275000, 1262500, 1250000, 1250000, 1250000, 1237500, 1225000, 1212500, 1200000, },
	[6]  = { 1400, 1287500, 1275000, 1262500, 1250000, 1237500, 1225000, 1212500, 1200000, 1187500, 1175000, 1175000, 1175000, 1162500, 1150000, 1137500, 1125000, },
	[7]  = { 1300, 1225000, 1212500, 1200000, 1187500, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1112500, 1112500, 1100000, 1087500, 1075000, 1062500, },
	[8]  = { 1200, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1062500, 1062500, 1050000, 1037500, 1025000, 1012500, },
	[9]  = { 1100, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1025000, 1025000, 1012500, 1000000,  987500,  975000, },
	[10] = { 1000, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  987500,  987500,  975000,  962500,  950000,  937500, },
	[11] = {  900, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  962500,  950000,  950000,  950000,  937500,  925000,  912500,  900000, },
	[12] = {  800, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  962500,  950000,  937500,  925000,  925000,  925000,  912500,  900000,  887500,  875000, },
	[13] = {  700, 1000000,  987500,  975000,  962500,  950000,  937500,  925000,  912500,  900000,  887500,  887500,  887500,  875000,  862500,  850000,  837500, },
	[14] = {  600,  975000,  962500,  950000,  937500,  925000,  912500,  900000,  887500,  875000,  862500,  862500,  862500,  850000,  837500,  825000,  812500, },
	[15] = {  500,  950000,  937500,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  837500,  837500,  825000,  812500,  800000,  787500, },
	[16] = {  400,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  825000,  812500,  800000,  800000,  800000,  787500,  775000,  762500,  750000, },
	[17] = {  300,  875000,  862500,  850000,  837500,  825000,  812500,  800000,  787500,  775000,  762500,  762500,  762500,  750000,  737500,  725000,  712500, },
	[18] = {  200,  837500,  825000,  812500,  800000,  787500,  775000,  762500,  750000,  737500,  725000,  725000,  725000,  712500,  700000,  700000,  700000, },
};																			
const u32 volt_table_g3d_v1[SYSC_DVFS_END_LVL_G3D+1][MAX_ASV_GROUP+1]  = {
	/* ASV0     ASV1     ASV2    ASV3      ASV4     ASV5     ASV6     ASV7     ASV8     ASV9    ASV10    ASV11    ASV12    ASV13    ASV14    ASV15 */
	[0] = { 730, 1187500, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1100000, 1100000, 1087500, 1087500, 1087500, 1075000, 1062500, 1062500, 1050000},
	[1] = { 700, 1162500, 1150000, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1050000, 1050000, 1050000, 1037500, 1025000, 1012500, 1000000, },
	[2] = { 650, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1012500, 1012500, 1000000,  987500,  975000,  962500, },
	[3] = { 600, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  962500,  962500,  962500,  950000,  937500,  925000,  912500, },
	[4] = { 550, 1025000, 1012500, 1000000,  987500,  975000,  962500,  950000,  937500,  925000,  912500,  912500,  912500,  900000,  887500,  875000,  862500, },
	[5] = { 500,  987500,  975000,  962500,  950000,  937500,  925000,  912500,  900000,  887500,  875000,  875000,  875000,  862500,  850000,  837500,  825000, },
	[6] = { 420,  962500,  950000,  937500,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  850000,  850000,  837500,  825000,  812500,  800000, },
	[7] = { 350,  937500,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  825000,  825000,  825000,  812500,  800000,  787500,  775000, },
	[8] = { 266,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  825000,  812500,  800000,  800000,  800000,  787500,  775000,  762500,  750000, },
	[9] = { 160,  887500,  875000,  862500,  850000,  837500,  825000,  812500,  800000,  787500,  775000,  775000,  775000,  762500,  750000,  737500,  725000, },
};																			
const u32 volt_table_mif_v1[SYSC_DVFS_END_LVL_MIF+1][MAX_ASV_GROUP+1]  = {
	[0] = { 825,  975000,  962500,  950000,  937500,  925000,  925000,  912500,  912500,  900000,  900000,  900000,  900000,  887500,  875000,  862500,  850000, },
	[1] = { 667,  950000,  937500,  925000,  912500,  900000,  900000,  887500,  887500,  875000,  875000,  875000,  875000,  862500,  850000,  837500,  825000, },
	[2] = { 543,  887500,  875000,  862500,  850000,  837500,  837500,  825000,  825000,  812500,  812500,  812500,  812500,  800000,  787500,  775000,  762500, },
	[3] = { 413,  837500,  825000,  812500,  800000,  787500,  787500,  775000,  775000,  762500,  762500,  762500,  762500,  750000,  737500,  725000,  712500, },
	[4] = { 272,  825000,  812500,  800000,  787500,  775000,  775000,  762500,  762500,  750000,  750000,  750000,  750000,  737500,  725000,  712500,  700000, },
	[5] = { 222,  825000,  812500,  800000,  787500,  775000,  775000,  762500,  762500,  750000,  750000,  750000,  750000,  737500,  725000,  712500,  700000, },
	[6] = { 167,  825000,  812500,  800000,  787500,  775000,  775000,  762500,  762500,  750000,  750000,  750000,  750000,  737500,  725000,  712500,  700000, },
	[7] = { 136,  825000,  812500,  800000,  787500,  775000,  775000,  762500,  762500,  750000,  750000,  750000,  750000,  737500,  725000,  712500,  700000, },
	[8] = { 109,  825000,  812500,  800000,  787500,  775000,  775000,  762500,  762500,  750000,  750000,  750000,  750000,  737500,  725000,  712500,  700000, },
	[9] = {  78,  825000,  812500,	800000,  787500,  775000,  775000,	762500,  762500,  750000,  750000,	750000,  750000,  737500,  725000,	712500,  700000, },
};

const u32 volt_table_int_v1[SYSC_DVFS_END_LVL_INT+1][MAX_ASV_GROUP+1]  = {
	[0] = { 400, 1000000,  975000,  962500,  950000,  937500,  925000,  912500,  900000,  887500,  875000,  875000,  875000,  862500,  850000,  837500,  825000, },
	[1] = { 267,  950000,  937500,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  837500,  837500,  825000,  812500,  800000,  787500, },
	[2] = { 267,  937500,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  825000,  825000,  825000,  812500,  800000,  787500,  775000, },
	[3] = { 200,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  825000,  812500,  812500,  812500,  800000,  787500,  775000,  762500, },
	[4] = { 160,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  825000,  812500,  812500,  812500,  800000,  787500,  775000,  762500, },
	[5] = { 133,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  825000,  812500,  812500,  812500,  800000,  787500,  775000,  762500, },
	[6] = { 100,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  825000,  812500,  812500,  812500,  800000,  787500,  775000,  762500, },
};																			
const u32 volt_table_cam_v1[SYSC_DVFS_END_LVL_CAM+1][MAX_ASV_GROUP+1]  = {
	[0] = { 552, 1012500, 1000000,  987500,  975000,  962500,  950000,  937500,  925000,  925000,  912500,  912500,  900000,  900000,  887500,  887500,  875000, },
	[1] = { 552,  987500,  975000,  962500,  950000,  937500,  925000,  912500,  900000,  900000,  887500,  887500,  875000,  875000,  862500,  862500,  850000, },
	[2] = { 552,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  837500,  825000,  825000,  812500,  812500,  812500,  812500,  812500, },
	[3] = { 552,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  837500,  825000,  825000,  812500,  812500,  812500,  812500,  812500, },
	[4] = { 138,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  837500,  825000,  825000,  812500,  812500,  812500,  812500,  812500, },
	[5] = {  69,  925000,  912500,	900000,  887500,  875000,  862500,	850000,  837500,  837500,  825000,	825000,  812500,  812500,  812500,	812500,  812500, },
};

const u32 volt_table_egl_v2[SYSC_DVFS_END_LVL_EGL+1][MAX_ASV_GROUP+1] = {
	[0]  = { 2500, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, },
	[1]  = { 2400, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, },
	[2]  = { 2300, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1337500, 1325000, 1312500, },
	[3]  = { 2200, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1337500, 1325000, 1312500, 1300000, 1287500, 1275000, 1262500, },
	[4]  = { 2100, 1350000, 1350000, 1350000, 1350000, 1350000, 1337500, 1325000, 1312500, 1300000, 1287500, 1275000, 1262500, 1250000, 1237500, 1225000, 1212500, },
	[5]  = { 2000, 1350000, 1337500, 1325000, 1312500, 1300000, 1287500, 1275000, 1262500, 1250000, 1237500, 1225000, 1212500, 1200000, 1187500, 1175000, 1162500, },
	[6]  = { 1900, 1300000, 1287500, 1275000, 1262500, 1250000, 1237500, 1225000, 1212500, 1200000, 1187500, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, },
	[7]  = { 1800, 1262500, 1250000, 1237500, 1225000, 1212500, 1200000, 1187500, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, },
	[8]  = { 1700, 1225000, 1212500, 1200000, 1187500, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, },
	[9]  = { 1600, 1187500, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000, },
	[10] = { 1500, 1150000, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  962500, },
	[11] = { 1400, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,	975000,  962500,  950000,  937500, },
	[12] = { 1300, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  962500,	950000,  937500,  925000,  912500, },
	[13] = { 1200, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,	975000,  962500,  950000,  937500,	925000,  912500,  900000,  900000, },
	[14] = { 1100, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  962500,	950000,  937500,  925000,  912500,	900000,  900000,  900000,  900000, },
	[15] = { 1000, 1025000, 1012500, 1000000,  987500,	975000,  962500,  950000,  937500,	925000,  912500,  900000,  900000,	900000,  900000,  900000,  900000, },
	[16] = {  900, 1000000,  987500,  975000,  962500,	950000,  937500,  925000,  912500,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000, },
	[17] = {  800,	975000,  962500,  950000,  937500,	925000,  912500,  900000,  900000,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000, },
	[18] = {  700,	950000,  937500,  925000,  912500,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000, },
	[19] = {  600,	925000,  912500,  900000,  900000,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000, },
	[20] = {  500,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000, },
	[21] = {  400,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000, },
	[22] = {  300,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000, },
	[23] = {  200,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000,	900000,  900000,  900000,  900000, },
};

const u32 volt_table_kfc_v2[SYSC_DVFS_END_LVL_KFC+1][MAX_ASV_GROUP+1]  = {
	[0]  = { 2000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, },
	[1]  = { 1900, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, },
	[2]  = { 1800, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, },
	[3]  = { 1700, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1337500, 1325000, 1312500, 1300000, },
	[4]  = { 1600, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1337500, 1325000, 1312500, 1300000, 1300000, 1300000, 1287500, 1275000, 1262500, 1250000, },
	[5]  = { 1500, 1362500, 1350000, 1337500, 1325000, 1312500, 1300000, 1287500, 1275000, 1262500, 1250000, 1250000, 1250000, 1237500, 1225000, 1212500, 1200000, },
	[6]  = { 1400, 1287500, 1275000, 1262500, 1250000, 1237500, 1225000, 1212500, 1200000, 1187500, 1175000, 1175000, 1175000, 1162500, 1150000, 1137500, 1125000, },
	[7]  = { 1300, 1225000, 1212500, 1200000, 1187500, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1112500, 1112500, 1100000, 1087500, 1075000, 1062500, },
	[8]  = { 1200, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1062500, 1062500, 1050000, 1037500, 1025000, 1012500, },
	[9]  = { 1100, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1025000, 1025000, 1012500, 1000000,  987500,  975000, },
	[10] = { 1000, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  987500,  987500,  975000,  962500,  950000,  937500, },
	[11] = {  900, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  962500,  950000,  950000,  950000,  937500,  925000,  912500,  900000, },
	[12] = {  800, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  962500,  950000,  937500,  925000,  925000,  925000,  912500,  900000,  887500,  875000, },
	[13] = {  700, 1000000,  987500,  975000,  962500,  950000,  937500,  925000,  912500,  900000,  887500,  887500,  887500,  875000,  862500,  850000,  837500, },
	[14] = {  600,  975000,  962500,  950000,  937500,  925000,  912500,  900000,  887500,  875000,  862500,  862500,  862500,  850000,  837500,  825000,  812500, },
	[15] = {  500,  950000,  937500,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  837500,  837500,  825000,  812500,  800000,  787500, },
	[16] = {  400,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  825000,  812500,  800000,  800000,  800000,  787500,  775000,  762500,  750000, },
	[17] = {  300,  887500,  862500,  850000,  837500,  825000,  812500,  800000,  787500,  775000,  762500,  762500,  762500,  750000,  737500,  725000,  725000, },
	[18] = {  200,  887500,  862500,  837500,  812500,  800000,  787500,  775000,  762500,  750000,  737500,  725000,  725000,  725000,  725000,  725000,  725000, },
};

const u32 volt_table_g3d_v2[SYSC_DVFS_END_LVL_G3D+1][MAX_ASV_GROUP+1]  = {
	/* ASV0     ASV1     ASV2    ASV3      ASV4     ASV5     ASV6     ASV7     ASV8     ASV9    ASV10    ASV11    ASV12    ASV13    ASV14    ASV15 */
	[0] = { 730, 1187500, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1100000, 1100000, 1087500, 1087500, 1087500, 1075000, 1062500, 1062500, 1050000},
	[1] = {	700, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1062500, 1062500, 1050000, 1050000, 1050000, 1037500, 1025000, 1025000, 1012500, },
	[2] = {	650, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1025000, 1025000, 1012500, 1012500, 1012500, 1000000,  987500,  987500,  975000, },
	[3] = {	600, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  975000,  975000,  962500,  962500,  962500,  950000,  937500,  937500,  925000, },
	[4] = {	550, 1000000,  987500,  975000,  962500,  950000,  937500,  925000,  925000,  925000,  912500,  912500,  912500,  900000,  887500,  887500,  875000, },
	[5] = {	500,  962500,  950000,  937500,  925000,  912500,  900000,  887500,  887500,  887500,  875000,  875000,  875000,  862500,  850000,  850000,  837500, },
	[6] = {	420,  950000,  937500,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  837500,  837500,  825000,  812500,  812500,  800000, },
	[7] = {	350,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  825000,  812500,  812500,  812500,  800000,  787500,  787500,  775000, },
	[8] = {	266,  900000,  887500,  875000,  862500,  850000,  837500,  825000,  812500,  806250,  800000,  793750,  787500,  775000,  775000,  775000,  762500, },
	[9] = {	160,  887500,  875000,  862500,  850000,  837500,  825000,  812500,  800000,  787500,  775000,  775000,  775000,  762500,  750000,  750000,  737500, },
};		

const u32 volt_table_mif_v2[SYSC_DVFS_END_LVL_MIF+1][MAX_ASV_GROUP+1]  = {
	[0] = {	825,   1000000,	987500,	975000,	962500,	950000,	950000,	937500,	937500,	925000,	925000,	925000,	925000,	912500,	900000,	887500,	875000,	},
	[1] = {	667,	975000,	962500,	950000,	937500,	925000,	925000,	912500,	912500,	900000,	900000,	900000,	900000,	887500,	875000,	862500,	850000,	},
	[2] = {	543,	912500,	900000,	887500,	875000,	862500,	862500,	850000,	850000,	837500,	837500,	837500,	837500,	825000,	812500,	800000,	787500,	},
	[3] = {	413,	862500,	850000,	837500,	825000,	812500,	812500,	800000,	800000,	787500,	787500,	787500,	787500,	775000,	762500,	750000,	737500,	},
	[4] = {	272,	850000,	837500,	825000,	812500,	800000,	800000,	787500,	787500,	775000,	775000,	775000,	775000,	762500,	750000,	737500,	725000,	},
	[5] = {	222,	850000,	837500,	825000,	812500,	800000,	800000,	787500,	787500,	775000,	775000,	775000,	775000,	762500,	750000,	737500,	725000,	},
	[6] = {	167,	850000,	837500,	825000,	812500,	800000,	800000,	787500,	787500,	775000,	775000,	775000,	775000,	762500,	750000,	737500,	725000,	},
	[7] = {	136,	850000,	837500,	825000,	812500,	800000,	800000,	787500,	787500,	775000,	775000,	775000,	775000,	762500,	750000,	737500,	725000,	},
	[8] = {	109,	850000,	837500,	825000,	812500,	800000,	800000,	787500,	787500,	775000,	775000,	775000,	775000,	762500,	750000,	737500,	725000,	},
	[9] = {	78,		850000,	837500,	825000,	812500,	800000,	800000,	787500,	787500,	775000,	775000,	775000,	775000,	762500,	750000,	737500,	725000,	},
};

const u32 volt_table_int_v2[SYSC_DVFS_END_LVL_INT+1][MAX_ASV_GROUP+1]  = {
	[0] = {	400,   1000000,	975000,	962500,	950000,	937500,	925000,	912500,	900000,	887500,	875000,	875000,	875000,	862500,	850000,	837500,	825000,	},
	[1] = {	267,	925000,	912500,	900000,	887500,	875000,	862500,	850000,	837500,	825000,	812500,	812500,	812500,	800000,	787500,	775000,	762500,	},
	[2] = {	267,	925000,	912500,	900000,	887500,	875000,	862500,	850000,	837500,	825000,	812500,	812500,	812500,	800000,	787500,	775000,	762500,	},
	[3] = {	200,	912500,	887500,	875000,	862500,	850000,	837500,	825000,	812500,	800000,	787500,	787500,	787500,	775000,	762500,	750000,	750000,	},
	[4] = {	160,	887500,	862500,	850000,	837500,	825000,	812500,	800000,	787500,	787500,	787500,	787500,	787500,	775000,	762500,	750000,	750000,	},
	[5] = {	133,	887500,	862500,	850000,	837500,	825000,	812500,	800000,	787500,	787500,	775000,	775000,	775000,	762500,	750000,	750000,	750000,	},
	[6] = {	100,	887500,	862500,	850000,	837500,	825000,	812500,	800000,	787500,	787500,	775000,	775000,	775000,	762500,	750000,	750000,	750000,	},
};

const u32 volt_table_cam_v2[SYSC_DVFS_END_LVL_CAM+1][MAX_ASV_GROUP+1]  = {
	[0] = {	552,	987500,	975000,	962500,	950000,	937500,	925000,	912500,	900000,	900000,	887500,	887500,	887500,	875000,	875000,	862500,	862500,	},
	[1] = {	552,	962500,	950000,	937500,	925000,	912500,	900000,	887500,	875000,	875000,	862500,	862500,	862500,	850000,	850000,	837500,	837500,	},
	[2] = {	552,	950000,	937500,	925000,	912500,	900000,	887500,	875000,	862500,	862500,	850000,	850000,	850000,	837500,	837500,	825000,	825000,	},
	[3] = {	552,	937500,	925000,	912500,	900000,	887500,	875000,	862500,	850000,	850000,	837500,	837500,	837500,	825000,	825000,	812500,	812500,	},
	[4] = {	138,	925000,	912500,	900000,	887500,	875000,	862500,	850000,	837500,	837500,	825000,	825000,	825000,	812500,	812500,	800000,	800000,	},
	[5] = {	69,		925000,	912500,	900000,	887500,	875000,	862500,	850000,	837500,	837500,	825000,	825000,	825000,	812500,	812500,	800000,	800000,	},
};

/* V110, V111 */
const u32 volt_table_egl_v3[SYSC_DVFS_END_LVL_EGL+1][MAX_ASV_GROUP+1] = {
	/* ASV0     ASV1     ASV2    ASV3      ASV4     ASV5     ASV6     ASV7     ASV8     ASV9    ASV10    ASV11    ASV12    ASV13    ASV14    ASV15 */
	[0]  = 	{2500, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000},
	[1]  = 	{2400, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000},
	[2]  = 	{2300, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1337500, 1325000},
	[3]  = 	{2200, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1337500, 1325000, 1312500, 1300000, 1287500, 1275000},
	[4]  = 	{2100, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1337500, 1325000, 1312500, 1300000, 1287500, 1275000, 1262500, 1250000, 1237500, 1225000},
	[5]  = 	{2000, 1362500, 1350000, 1337500, 1325000, 1312500, 1300000, 1287500, 1275000, 1262500, 1250000, 1237500, 1225000, 1212500, 1200000, 1187500, 1175000},
	[6]  = 	{1900, 1300000, 1300000, 1287500, 1275000, 1262500, 1250000, 1237500, 1225000, 1212500, 1200000, 1187500, 1175000, 1162500, 1150000, 1137500, 1125000},
	[7]  = 	{1800, 1275000, 1262500, 1250000, 1237500, 1225000, 1212500, 1200000, 1187500, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1100000, 1087500},
	[8]  = 	{1700, 1237500, 1225000, 1212500, 1200000, 1187500, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1050000},
	[9]  = 	{1600, 1187500, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000},
	[10] = 	{1500, 1150000, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  962500},
	[11] = 	{1400, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  962500,  950000,  937500},
	[12] = 	{1300, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  962500,  950000,  937500,  925000,  912500},
	[13] = 	{1200, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  962500,  950000,  937500,  925000,  912500,  900000,  900000},
	[14] = 	{1100, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  962500,  950000,  937500,  925000,  912500,  900000,  900000,  900000,  900000},
	[15] = 	{1000, 1025000, 1012500, 1000000,  987500,  975000,  962500,  950000,  937500,  925000,  912500,  900000,  900000,  900000,  900000,  900000,  900000},
	[16] = 	{ 900, 1000000,  987500,  975000,  962500,  950000,  937500,  925000,  912500,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000},
	[17] = 	{ 800,  975000,  962500,  950000,  937500,  925000,  912500,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000},
	[18] = 	{ 700,  950000,  937500,  925000,  912500,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000},
	[19] = 	{ 600,  925000,  912500,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000},
	[20] = 	{ 500,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000},
	[21] = 	{ 400,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000},
	[22] = 	{ 300,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000},
	[23] = 	{ 200,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000,  900000},
};

const u32 volt_table_kfc_v3[SYSC_DVFS_END_LVL_KFC+1][MAX_ASV_GROUP+1]  = {
	/* ASV0     ASV1     ASV2    ASV3      ASV4     ASV5     ASV6     ASV7     ASV8     ASV9    ASV10    ASV11    ASV12    ASV13    ASV14    ASV15 */
	[0]  = 	{2000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000},
	[1]  = 	{1900, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000},
	[2]  = 	{1800, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000},
	[3]  = 	{1700, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1337500, 1325000, 1312500, 1300000},
	[4]  = 	{1600, 1350000, 1350000, 1350000, 1350000, 1350000, 1350000, 1337500, 1325000, 1312500, 1300000, 1300000, 1300000, 1287500, 1275000, 1262500, 1250000},
	[5]  = 	{1500, 1362500, 1350000, 1337500, 1325000, 1312500, 1300000, 1287500, 1275000, 1262500, 1250000, 1250000, 1250000, 1237500, 1225000, 1212500, 1200000},
	[6]  = 	{1400, 1287500, 1275000, 1262500, 1250000, 1237500, 1225000, 1212500, 1200000, 1187500, 1175000, 1175000, 1175000, 1162500, 1150000, 1137500, 1125000},
	[7]  = 	{1300, 1225000, 1212500, 1200000, 1187500, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1112500, 1112500, 1100000, 1087500, 1075000, 1062500},
	[8]  = 	{1200, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1062500, 1062500, 1050000, 1037500, 1025000, 1012500},
	[9]  = 	{1100, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1025000, 1025000, 1012500, 1000000,  987500,  975000},
	[10] = 	{1000, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  987500,  987500,  975000,  962500,  950000,  937500},
	[11] = 	{ 900, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  962500,  950000,  950000,  937500,  937500,  950000,  937500,  925000,  912500,  900000},
	[12] = 	{ 800, 1012500, 1000000,  987500,  975000,  962500,  950000,  937500,  925000,  925000,  912500,  912500,  925000,  912500,  900000,  887500,  875000},
	[13] = 	{ 700,  975000,  962500,  950000,  937500,  925000,  912500,  900000,  887500,  887500,  875000,  875000,  887500,  875000,  862500,  850000,  837500},
	[14] = 	{ 600,  950000,  937500,  925000,  912500,  900000,  887500,  875000,  862500,  862500,  850000,  850000,  862500,  850000,  837500,  825000,  812500},
	[15] = 	{ 500,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  837500,  825000,  825000,  837500,  825000,  812500,  800000,  787500},
	[16] = 	{ 400,  887500,  875000,  862500,  850000,  837500,  825000,  812500,  800000,  800000,  787500,  787500,  800000,  787500,  775000,  762500,  750000},
	[17] = 	{ 300,  862500,  837500,  825000,  812500,  800000,  787500,  775000,  762500,  762500,  750000,  750000,  762500,  750000,  737500,  725000,  725000},
	[18] = 	{ 200,  862500,  837500,  812500,  787500,  775000,  762500,  750000,  737500,  737500,  725000,  725000,  725000,  725000,  725000,  725000,  725000},
};

const u32 volt_table_g3d_v3[SYSC_DVFS_END_LVL_G3D+1][MAX_ASV_GROUP+1]  = {
	/* ASV0     ASV1     ASV2    ASV3      ASV4     ASV5     ASV6     ASV7     ASV8     ASV9    ASV10    ASV11    ASV12    ASV13    ASV14    ASV15 */
	[0] = 	{730, 1187500, 1175000, 1162500, 1150000, 1137500, 1125000, 1112500, 1100000, 1100000, 1087500, 1087500, 1087500, 1075000, 1062500, 1062500, 1050000},
	[1] = 	{700, 1150000, 1137500, 1125000, 1112500, 1100000, 1087500, 1075000, 1062500, 1062500, 1050000, 1050000, 1050000, 1037500, 1025000, 1025000, 1012500},
	[2] = 	{650, 1100000, 1087500, 1075000, 1062500, 1050000, 1037500, 1025000, 1025000, 1025000, 1012500, 1012500, 1012500, 1000000,  987500,  987500,  975000},
	[3] = 	{600, 1050000, 1037500, 1025000, 1012500, 1000000,  987500,  975000,  975000,  975000,  962500,  962500,  962500,  950000,  937500,  937500,  925000},
	[4] = 	{550, 1000000,  987500,  975000,  962500,  950000,  937500,  925000,  925000,  925000,  912500,  912500,  912500,  900000,  887500,  887500,  875000},
	[5] = 	{500,  975000,  962500,  950000,  937500,  925000,  912500,  900000,  887500,  887500,  875000,  875000,  875000,  862500,  850000,  850000,  837500},
	[6] = 	{420,  950000,  937500,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  837500,  837500,  825000,  812500,  812500,  800000},
	[7] = 	{350,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  825000,  812500,  812500,  812500,  800000,  787500,  787500,  775000},
	[8] = 	{266,  900000,  887500,  875000,  862500,  850000,  837500,  825000,  812500,  806250,  800000,  793750,  787500,  775000,  775000,  775000,  762500},
	[9] = 	{160,  887500,  875000,  862500,  850000,  837500,  825000,  812500,  800000,  787500,  775000,  775000,  775000,  762500,  750000,  750000,  737500},
};

const u32 volt_table_mif_v3[SYSC_DVFS_END_LVL_MIF+1][MAX_ASV_GROUP+1]  = {
	/* ASV0     ASV1     ASV2    ASV3      ASV4     ASV5     ASV6     ASV7     ASV8     ASV9    ASV10    ASV11    ASV12    ASV13    ASV14    ASV15 */
	[0] =	{825, 1000000,  987500,  975000,  962500,  950000,  950000,  937500,  937500,  925000,  925000,  925000,  925000,  912500,  900000,  887500,  875000},
	[1] =	{667,  950000,  937500,  925000,  912500,  900000,  900000,  887500,  887500,  875000,  875000,  875000,  875000,  887500,  875000,  862500,  850000},
	[2] =	{543,  887500,  875000,  862500,  850000,  837500,  837500,  825000,  825000,  812500,  812500,  812500,  812500,  825000,  812500,  800000,  787500},
	[3] =	{413,  837500,  825000,  812500,  800000,  787500,  787500,  775000,  775000,  762500,  762500,  762500,  762500,  775000,  762500,  750000,  737500},
	[4] =	{272,  825000,  812500,  800000,  787500,  775000,  775000,  762500,  762500,  750000,  750000,  750000,  750000,  762500,  750000,  737500,  725000},
	[5] =	{222,  825000,  812500,  800000,  787500,  775000,  775000,  762500,  762500,  750000,  750000,  750000,  750000,  762500,  750000,  737500,  725000},
	[6] =	{167,  825000,  812500,  800000,  787500,  775000,  775000,  762500,  762500,  750000,  750000,  750000,  750000,  762500,  750000,  737500,  725000},
	[7] =	{136,  825000,  812500,  800000,  787500,  775000,  775000,  762500,  762500,  750000,  750000,  750000,  750000,  762500,  750000,  737500,  725000},
	[8] =	{109,  825000,  812500,  800000,  787500,  775000,  775000,  762500,  762500,  750000,  750000,  750000,  750000,  762500,  750000,  737500,  725000},
	[9] =	{ 78,  825000,  812500,  800000,  787500,  775000,  775000,  762500,  762500,  750000,  750000,  750000,  750000,  762500,  750000,  737500,  725000},
};

const u32 volt_table_int_v3[SYSC_DVFS_END_LVL_INT+1][MAX_ASV_GROUP+1]  = {
	/* ASV0     ASV1     ASV2    ASV3      ASV4     ASV5     ASV6     ASV7     ASV8     ASV9    ASV10    ASV11    ASV12    ASV13    ASV14    ASV15 */
	[0] = 	{400, 1000000,  975000,  962500,  950000,  937500,  925000,  912500,  900000,  887500,  875000,  875000,  875000,  862500,  850000,  837500,  825000},
	[1] = 	{334,  925000,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  825000,  825000,  825000,  825000,  812500,  800000,  787500,  775000},
	[2] = 	{267,  912500,  900000,  887500,  875000,  862500,  850000,  837500,  825000,  812500,  812500,  812500,  812500,  800000,  787500,  775000,  762500},
	[3] = 	{200,  912500,  887500,  875000,  862500,  850000,  837500,  825000,  812500,  800000,  787500,  787500,  787500,  775000,  762500,  750000,  750000},
	[4] = 	{160,  862500,  837500,  825000,  812500,  800000,  787500,  787500,  787500,  787500,  787500,  787500,  787500,  775000,  762500,  750000,  750000},
	[5] = 	{133,  862500,  837500,  825000,  812500,  800000,  787500,  775000,  775000,  775000,  775000,  775000,  775000,  762500,  750000,  750000,  750000},
	[6] = 	{100,  862500,  837500,  825000,  812500,  800000,  787500,  775000,  775000,  775000,  775000,  775000,  775000,  762500,  750000,  750000,  750000},
};

const u32 volt_table_cam_v3[SYSC_DVFS_END_LVL_CAM+1][MAX_ASV_GROUP+1]  = {
	/* ASV0     ASV1     ASV2    ASV3      ASV4     ASV5     ASV6     ASV7     ASV8     ASV9    ASV10    ASV11    ASV12    ASV13    ASV14    ASV15 */
	[0] = {	552,   987500,	975000,	 962500,  950000,  937500,  925000,  912500,  900000,  900000,  887500,  887500,  887500,  875000,  875000,  862500,  862500,},
	[1] = {	552,   962500,	950000,	 937500,  925000,  912500,  900000,  887500,  875000,  875000,  862500,	 862500,  862500,  850000,  850000,  837500,  837500,},
	[2] = {	552,   950000,	937500,	 925000,  912500,  900000,  887500,  875000,  862500,  862500,  850000,	 850000,  850000,  837500,  837500,  825000,  825000,},
	[3] = {	552,   937500,	925000,	 912500,  900000,  887500,  875000,  862500,  850000,  850000,  837500,	 837500,  837500,  825000,  825000,  812500,  812500,},
	[4] = {	138,   925000,	912500,	 900000,  887500,  875000,  862500,  850000,  837500,  837500,  825000,	 825000,  825000,  812500,  812500,  800000,  800000,},
	[5] = {	69,    925000,	912500,	 900000,  887500,  875000,  862500,  850000,  837500,  837500,  825000,	 825000,  825000,  812500,  812500,  800000,  800000,},
};

u32 CHIPID_Power(u32 input, u32 Power)
{
	u32 i;
	u32 result;

	if(Power==0)
		return 1;

	result=input;

	for(i=1; i<Power; i++) {
		result*=input;
	}

	return result;

}

u32 CHIPID_IsFused_KEY3_IdsATLAS(void)
{
	u32 ErrorCnt;
	u32 fused_data=0;
	u8 Data[32]={0,};
	u32 ulSize = 32;
	u32 i;

	if(otp_read((BANK_OFFSET * 3),Data,ulSize,&ErrorCnt)) {
		for(i = 0; i<16; i=i+2)	{
			if(Data[i]!=0)
				fused_data += Data[i]*CHIPID_Power(2,i/2);
		}
	}

	if(fused_data==0)
		return 0;

	return fused_data;
}

int cal_is_fused_speed_grp(void)
{
	return group_fused;
}

u32	cal_get_table_ver(void)
{
	u32 ver = Inp32(CHIPID_ASV_TBL_BASE + 0x000C) & 0xF;
	return ver;
}

u32	cal_get_ids(void)
{
	u32 fused_data;
	fused_data = CHIPID_IsFused_KEY3_IdsATLAS();
	if(fused_data!=0)
	{
		return fused_data;
	}
	else if(GetBits(CHIPID_ASV_TBL_BASE+0x003C, 28, 0xF)==0)	
		return Inp32(CHIPID_ABB_TBL_BASE) & 0xff;
	else
		return Inp32(CHIPID_ASV_TBL_BASE+0x0030) & 0xff;
}

u32 cal_get_fs_abb(void)
{
	u32 master = GetBits(CHIPID_ASV_TBL_BASE + 0x0010, 20, 0x1);
	return master;
}

void cal_init(void)
{
	egl_ids = cal_get_ids();
	group_fused = GetBits(CHIPID_ASV_TBL_BASE+0x000C, 16, 0x1);
}

s32 cal_get_max_lv(u32 id)
{
	s32 lvl = (id == SYSC_DVFS_EGL) ? SYSC_DVFS_L6 :
		(id == SYSC_DVFS_KFC) ? SYSC_DVFS_L7 :
		(id == SYSC_DVFS_G3D) ? SYSC_DVFS_L0 : SYSC_DVFS_L0;
	return lvl;
}

s32	cal_get_min_lv(u32 id)
{
	s32 level = 0;
	switch (id) {
	case SYSC_DVFS_EGL:
		level = SYSC_DVFS_END_LVL_EGL;
		break;
	case SYSC_DVFS_KFC:
		level = SYSC_DVFS_END_LVL_KFC;
		break;
	case SYSC_DVFS_G3D:
		level = SYSC_DVFS_END_LVL_G3D;
		break;
	case SYSC_DVFS_MIF:
		level = SYSC_DVFS_END_LVL_MIF;
		break;
	case SYSC_DVFS_INT:
		level = SYSC_DVFS_END_LVL_INT;
		break;
	case SYSC_DVFS_CAM:
		level = SYSC_DVFS_END_LVL_CAM;
		break;
	default:
		while(1);
	}
	return level;
}

u32 cal_get_ids_group(void)
{
	u32 i;
	u32 group = 0;

	if (egl_ids >= ids_table_v0[MAX_ASV_GROUP-1])
		group = MAX_ASV_GROUP - 1;
	else if (egl_ids <= ids_table_v0[0])
		group = 0;
	else {
		for (i = MAX_ASV_GROUP; i > 0; i--) {
			if (egl_ids > ids_table_v0[i-1]) {
				group = i;
				break;
			}
		}
	}

	if (cal_get_table_ver() == 0)
		group = 0;
	else if (cal_get_table_ver() == 1) {
		if((Inp32(CHIPID_ASV_TBL_BASE)&0x1)==1) {
			if(group < 4)
				group = 1;
			else
				group -= 3;
		}
	}

	return group;
}

u32 cal_get_match_subgrp(u32 id, s32 level)
{
	u32 subgrp = 0;	/*  version 0 */

	switch(id) {
	case SYSC_DVFS_EGL:
		subgrp = (level <= SYSC_DVFS_L8) ? 0 :
			(level <= SYSC_DVFS_L13) ? 1 : 2;
		break;
	case SYSC_DVFS_KFC:
		subgrp = (level <= SYSC_DVFS_L8) ? 0 :
			(level <= SYSC_DVFS_L13) ? 1 : 2;
		break;
	case SYSC_DVFS_G3D:
		subgrp = (level <= SYSC_DVFS_L3) ? 0 :
			(level <= SYSC_DVFS_L5) ? 1 : 2;
		break;
	case SYSC_DVFS_MIF:
		subgrp = (level <= SYSC_DVFS_L2) ? 0 : /*  L0 1066 L1 933 L2:825 */
			(level <= SYSC_DVFS_L5) ? 1 : 2; /* 633,543,413 // 275~ */
		break;
	case SYSC_DVFS_INT:
		subgrp = (level <= SYSC_DVFS_L0) ? 0 : /*  L0_A, L0 */
			(level <= SYSC_DVFS_L3) ? 1 : 2;
		break;
	case SYSC_DVFS_CAM:
		subgrp = (level <= SYSC_DVFS_L0) ? 0 :
			(level <= SYSC_DVFS_L2) ? 1 : 2;
		break;
	default:
		while(1);
	}

	return subgrp;
}

u32	cal_get_lock_volt(u32 id)
{
	u32 volt, lockvalue;
	lockvalue = GetBits(base_add_arr[id][0], base_add_arr[id][4], 0xf);

	if (lockvalue == 0)
		volt = 0;
	else if (id == SYSC_DVFS_EGL)
		volt = 85000 + lockvalue * 25000;
	else
		volt = 70000 + lockvalue * 25000;

	return volt;
}

u32 cal_get_asv_grp(u32 id, s32 level)
{
	u32 subgrp, asv_group = 0;
	subgrp = cal_get_match_subgrp(id, level);

	if (cal_is_fused_speed_grp())	{
		asv_group = GetBits(base_add_arr[id][0], base_add_arr[id][1 + subgrp], 0xf);
	} else {
		asv_group = cal_get_ids_group();
	}

	return asv_group;
}

u32 cal_get_volt(u32 id, u32 level)
{
	u32 volt, lock_volt;
	u32 asvgrp;
	u32 minlvl = cal_get_min_lv(id);
	const u32 *p_table;
	u32 idx;

	if (level >= minlvl)
		level = minlvl;
	idx = level;

	if(cal_get_table_ver()==0) {
		p_table = ((id == SYSC_DVFS_EGL) ? volt_table_egl_v0[idx] :
				(id == SYSC_DVFS_KFC) ? volt_table_kfc_v0[idx] :
				(id == SYSC_DVFS_G3D) ? volt_table_g3d_v0[idx] :
				(id == SYSC_DVFS_MIF) ? volt_table_mif_v0[idx] :
				(id == SYSC_DVFS_INT) ? volt_table_int_v0[idx] :
				(id == SYSC_DVFS_CAM) ? volt_table_cam_v0[idx] :
				NULL);	
	} else if(cal_get_table_ver()<=4) {
		p_table = ((id == SYSC_DVFS_EGL) ? volt_table_egl_v1[idx] :
				(id == SYSC_DVFS_KFC) ? volt_table_kfc_v1[idx] :
				(id == SYSC_DVFS_G3D) ? volt_table_g3d_v1[idx] :
				(id == SYSC_DVFS_MIF) ? volt_table_mif_v1[idx] :
				(id == SYSC_DVFS_INT) ? volt_table_int_v1[idx] :
				(id == SYSC_DVFS_CAM) ? volt_table_cam_v1[idx] :
				NULL);
	} else if (cal_get_table_ver() == 5) {  /* table ver 5 */
		p_table = ((id == SYSC_DVFS_EGL) ? volt_table_egl_v2[idx] :
				(id == SYSC_DVFS_KFC) ? volt_table_kfc_v2[idx] :
				(id == SYSC_DVFS_G3D) ? volt_table_g3d_v2[idx] :
				(id == SYSC_DVFS_MIF) ? volt_table_mif_v2[idx] :
				(id == SYSC_DVFS_INT) ? volt_table_int_v2[idx] :
				(id == SYSC_DVFS_CAM) ? volt_table_cam_v2[idx] :
				NULL);
	} else if (cal_get_table_ver() <= 8) {      /* table ver 6, 7, 8 */
		p_table = ((id == SYSC_DVFS_EGL) ? volt_table_egl_v3[idx] :
				(id == SYSC_DVFS_KFC) ? volt_table_kfc_v3[idx] :
				(id == SYSC_DVFS_G3D) ? volt_table_g3d_v3[idx] :
				(id == SYSC_DVFS_MIF) ? volt_table_mif_v3[idx] :
				(id == SYSC_DVFS_INT) ? volt_table_int_v3[idx] :
				(id == SYSC_DVFS_CAM) ? volt_table_cam_v3[idx] :
				NULL);
	}

	if (p_table == NULL)
		while(1);

	asvgrp = cal_get_asv_grp(id, level);
	if(id == SYSC_DVFS_EGL)
		printf("ATLAS ");
	else if(id == SYSC_DVFS_KFC)
		printf("APOLLO ");
	else if(id == SYSC_DVFS_G3D)
		printf("G3D ");
	else if(id == SYSC_DVFS_MIF)
		printf("MIF ");
	else if(id == SYSC_DVFS_INT)
		printf("INT ");
	else if(id == SYSC_DVFS_CAM)
		printf("CAM0_DISP ");
	printf("ASV: %d\n", asvgrp);

	volt = p_table[asvgrp+1];
	lock_volt = cal_get_lock_volt(id);

	if (lock_volt > volt)
		volt = lock_volt;

	return volt;
}

void Get_ASV_Group(void)
{
	u32 is_fs_abb = cal_get_fs_abb();
	u32 fs_abb, tmp;

	cal_init();
	printf("IDS_EGL: 0x%x\n", egl_ids);
	printf("Group-Fuse: 0x%x\n", group_fused);
	printf("ASV Table Ver %d\n", cal_get_table_ver());

	if (is_fs_abb) {
		tmp = GetBits(CHIPID_ASV_TBL_BASE + 0x0010, 0, 0xF);
		fs_abb = ((1 << 31) | (1 << 7) | tmp);
		Outp32(FBB_EGL_BASE, fs_abb);

		tmp = GetBits(CHIPID_ASV_TBL_BASE + 0x0010, 4, 0xF);
		fs_abb = ((1 << 31) | (1 << 7) | tmp);
		Outp32(FBB_KFC_BASE, fs_abb);

		tmp = GetBits(CHIPID_ASV_TBL_BASE + 0x0010, 8, 0xF);
		fs_abb = ((1 << 31) | (1 << 7) | tmp);
		Outp32(FBB_G3D_BASE, fs_abb);

		tmp = GetBits(CHIPID_ASV_TBL_BASE + 0x0010, 12, 0xF);
		fs_abb = ((1 << 31) | (1 << 7) | tmp);
		Outp32(FBB_MIF_BASE, fs_abb);

		tmp = GetBits(CHIPID_ASV_TBL_BASE + 0x0010, 16, 0xF);
		fs_abb = ((1 << 31) | (1 << 7) | tmp);
		Outp32(FBB_INT_BASE, fs_abb);
	} else {
		fs_abb = (1 << 31) | (1 << 7);
		Outp32(FBB_MIF_BASE, fs_abb);
	}

	/* get voltage from table */
	uEglAsvGrpVolt = cal_get_volt(SYSC_DVFS_EGL, 13);
	uKfcAsvGrpVolt = cal_get_volt(SYSC_DVFS_KFC, 8);
	uG3dAsvGrpVolt = cal_get_volt(SYSC_DVFS_G3D, 6);
	uMifAsvGrpVolt = cal_get_volt(SYSC_DVFS_MIF, 0);
	uIntAsvGrpVolt = cal_get_volt(SYSC_DVFS_INT, 0);
	uCamAsvGrpVolt = cal_get_volt(SYSC_DVFS_CAM, 0);
}
